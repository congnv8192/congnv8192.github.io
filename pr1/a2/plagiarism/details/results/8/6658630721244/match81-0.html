<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/1801040025NguyenThanhCong_106381_assignsubmission_file_assignment2.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/1801040025NguyenThanhCong_106381_assignsubmission_file_assignment2.java/<p><PRE>
&gt;&gt;&gt;&gt; file: 1801040025NguyenThanhCong_106381_assignsubmission_file_assignment2.java
package Assignment_2;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.ObjectInputStream;
<A NAME="1"></A><FONT color = #00FF00><A HREF="match81-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_8.gif" ALT="other" BORDER="0" ALIGN=left></A>

import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Scanner;

/**
 *
 * @author NguyenThanhCong-1801040025
 */
public class assignment2 {
	static File f = new File("product.txt");
	static Scanner sc = new Scanner(System.in);
	static ArrayList&lt;Integer&gt; id = new ArrayList&lt;&gt;();
	static ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();
	static ArrayList&lt;Double&gt; price = new ArrayList&lt;&gt;();
	static ArrayList&lt;Integer&gt; quantity = new ArrayList&lt;&gt;();

	public static void main(String[] args) throws Exception {
</FONT>		Scanner sc = new Scanner(System.in);
		int option = 0;
		while (option != 9) {
			try {
				System.out.println("--------------------------------------------");
				System.out.println("| [1] Add products                         |");
				System.out.println("| [2] Display products                     |");
				System.out.println("| [3] Delete a product                     |");
				System.out.println("| [4] Edit a product                       |");
				System.out.println("| [5] Search for products by name          |");
				System.out.println("| [6] Sort products by price               |");
				System.out.println("| [7] Save products to text/binary file    |");
				System.out.println("| [8] Load products from the saved file    |");
				System.out.println("| [9] Exit                                 |");
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match81-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_4.gif" ALT="other" BORDER="0" ALIGN=left></A>

				System.out.println("--------------------------------------------");
				System.out.print("Choose an option: ");
				option = sc.nextInt();
			} catch (Exception e) {
				System.out.println("Enter number only, please");
				sc.nextLine();
			}
			// Switch....case method
			switch (option) {
			case 1:
				addProducts();
				break;
			case 2:
				displayProducts();
				break;
			case 3:
</FONT>				deleteProduct();
				break;
			case 4:
				editProduct();
				break;
			case 5:
				searchProductByName();
				break;
			case 6:
				sortProductsByPrice();
				break;
			case 7:
				saveProductsToTextFile();
				break;
			case 8:
				loadProductsFromSavedFile();
				break;
			case 9:
				System.out.println("End!!");
				break;
			default:
				System.out.println("Your number should be from 1 to 9");
			}
		}
		sc.close();
	}

	// feature1
<A NAME="5"></A><FONT color = #FF0000><A HREF="match81-1.html#5" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

	public static void addProducts() throws FileNotFoundException {
		Scanner sc = new Scanner(System.in);
		String repeat = null; // Create a variable for repeat
		do {
			System.out.println("Enter the product information here:");
			id.add(id.size()); // Return the number of elements in this list
			System.out.print("Product Name: ");
			name.add(sc.nextLine());
</FONT><A NAME="2"></A><FONT color = #0000FF><A HREF="match81-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

			System.out.print("Product Price: ");
			price.add(sc.nextDouble());
			System.out.print("Quantity: ");
			quantity.add(sc.nextInt());
			sc.nextLine();
			System.out.println("Do you want to add another product? Y/N");
			repeat = sc.nextLine();
		} while (repeat.equalsIgnoreCase("Y") == true); // Using method equalsIgnoreCase() to not check case of Y
	}

	// feature2
	public static void displayProducts() {
		System.out.format("+----+------------------+------------+-----------+%n");
</FONT>		System.out.format("| ID | Name             | Price      | Quantity  |%n");
		System.out.format("+----+------------------+------------+-----------+%n");
		for (int i = 0; i &lt; name.size(); i++) { // Using for loop
			System.out.format("| %-2d | %-15s  | %-10s | %-8s  |%n", id.get(i), name.get(i), price.get(i),
					quantity.get(i));
		}
<A NAME="0"></A><FONT color = #FF0000><A HREF="match81-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_16.gif" ALT="other" BORDER="0" ALIGN=left></A>

		System.out.format("+----+------------------+------------+-----------+%n");
	}

	// feature 3
	public static void deleteProduct() {
		System.out.print("Enter ID: ");
		int selectedID = sc.nextInt();
		for (int i = 0; i &lt; id.size(); i++) {
			if (id.get(i) == selectedID) {
				id.remove(i);
				name.remove(i);
				price.remove(i);
				quantity.remove(i);
				System.out.println("Delete product successfully!!!");
			}
		}
	}

	// feature 4
	public static void editProduct() {
		System.out.println("Enter ID: ");
		int selectedID = sc.nextInt();
		for (int i = 0; i &lt; id.size(); i++) {
			if (id.get(i) == selectedID) {
				System.out.println("Enter new name: ");
				name.set(i, sc.next());
				System.out.println("Enter new price: ");
				price.set(i, sc.nextDouble());
				System.out.println("Enter new quantity: ");
				quantity.set(i, sc.nextInt());
				System.out.println("The product has been editted successfully!!!");
			}
		}
	}

	// feature 5
	public static void searchProductByName() {
		System.out.println("Enter the product's name:");
		String selectedName = sc.next();
		System.out.format("+----+------------------+------------+-----------+%n");
</FONT>		System.out.format("| ID | Name             | Price      | Quantity  |%n");
		System.out.format("+----+------------------+------------+-----------+%n");
		for (int i = 0; i &lt; name.size(); i++) {
			if (name.get(i).contains(selectedName)) { // Using method contains() to check whether name.get(i) contains
														// selectedName
				System.out.format("| %-2d | %-15s  | %-10s | %-8s  |%n", id.get(i), name.get(i), price.get(i),
						quantity.get(i));
			}
		}
		System.out.format("+----+------------------+------------+-----------+%n");
	}

	// feature 6
	public static void sortProductsByPrice() {
		// convert ArrayList to Array
		Double[] productPrices = price.toArray(new Double[price.size()]);
		for (int i = 0; i &lt; price.size() - 1; i++) {
			
			// initialize min's position
			int minPricePos = i;
			for (int j = i + 1; j &lt; price.size(); j++) {
				if (productPrices[j] &lt; productPrices[minPricePos]) {
					
					// update min's position
					minPricePos = j;
				} else {
					minPricePos = i;
				}
			} 
			
			// swap list[minPricePos] with prices[i]
			double tmp = productPrices[i];
			productPrices[i] = productPrices[minPricePos];
			productPrices[minPricePos] = tmp;
			
			// swap the name with the smallest price order
			String pO = name.set(0, name.get(minPricePos));
			System.out.println(pO);
		}
	}

	// feature7
	public static void saveProductsToTextFile() throws Exception {
		PrintWriter out = new PrintWriter(f);
		if (f.exists()) {
			out.format("+----+------------------+------------+-----------+%n");
			out.format("| ID | Name             | Price      | Quantity  |%n");
<A NAME="6"></A><FONT color = #00FF00><A HREF="match81-1.html#6" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

			out.format("+----+------------------+------------+-----------+%n");

			for (int i = 0; i &lt; name.size(); i++) {
				out.format("| %-2d | %-15s  | %-10s | %-8s  |%n", id.get(i), name.get(i), price.get(i),
						quantity.get(i));
</FONT>			}
			out.format("+----+------------------+------------+-----------+%n");

<A NAME="8"></A><FONT color = #00FFFF><A HREF="match81-1.html#8" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

			out.close();
			System.out.println("Saving products to text file successfully!!!");
		} else {
			try {
				f.createNewFile();
			} catch (IOException e) {
				System.out.println(e.getMessage());
			}
			out.format("+----+------------------+------------+-----------+%n");
</FONT>			out.format("| ID | Name             | Price      | Quantity  |%n");
<A NAME="7"></A><FONT color = #0000FF><A HREF="match81-1.html#7" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

			out.format("+----+------------------+------------+-----------+%n");

			for (int i = 0; i &lt; name.size(); i++) {
				out.format("| %-2d | %-15s  | %-10s | %-8s  |%n", id.get(i), name.get(i), price.get(i),
						quantity.get(i));
</FONT>				out.close();
			}
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match81-1.html#4" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_4.gif" ALT="other" BORDER="0" ALIGN=left></A>

			out.format("+----+------------------+------------+-----------+%n");
			System.out.println("Saving products to text file successfully!!!");
		}
	}

	// feature8
	public static void loadProductsFromSavedFile() throws Exception {
		FileInputStream inp = new FileInputStream(f);
        Scanner sc = new Scanner(inp);
        while (sc.hasNext()) {
            System.out.println(sc.nextLine());
        }
        System.out.println("The file has been read from saved file!");
</FONT>    }
}

	</PRE>
</PRE>
</BODY>
</HTML>
