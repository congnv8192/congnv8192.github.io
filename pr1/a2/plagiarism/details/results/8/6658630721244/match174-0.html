<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/NguyenHoangNhat_106426_assignsubmission_file_Assignment2_NguyenHoangNhat_1TD19_1901060038.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/NguyenHoangNhat_106426_assignsubmission_file_Assignment2_NguyenHoangNhat_1TD19_1901060038.java/<p><PRE>
&gt;&gt;&gt;&gt; file: NguyenHoangNhat_106426_assignsubmission_file_Assignment2_NguyenHoangNhat_1TD19_1901060038.java
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */


/* Full name: Nguyen Hoang Nhat.
 * Class: 1Tƒê19.
 * Student ID: 1901060038.
 */
package assignment2;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;


public class Assignment2_NguyenHoangNhat_1TD19_1901060038 {
	static List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();

	public static void main(String[] args) {	
        int choice = 0;
        boolean isContinued = false;
        Scanner sc = new Scanner(System.in);  
        while(true) {
            System.out.println("Welcome to Menu driven code. \n"
                + "To excute case 1: Add product.\n"
                + "To excute case 2: Display product.\n"
                + "To excute case 3: Delete product.\n"
                + "To excute case 5: Search for products by name.\n"              
                + "To excute case 6: Save products to text/binary file.\n"
                + "To excute case 7: Load products from the saved file.");
            System.out.printf("Enter your feature: \n");
            try {
            choice = sc.nextInt();
            sc.nextLine();
              } catch(Exception e) {
                  sc.nextLine();
                  System.out.println("Invalid  input! Please enter again!");
              }        
            switch(choice) {
                case 1:
                	addProduct();
                        isContinued = true;
                    break;
                case 2:
                	displayProduct(products);
                        isContinued = true;
                    break;
                case 3:
                	deleteProduct();
                        isContinued = true;
                    break;
                case 4:
                	searchProduct();
                        isContinued = true;
                    break;
                case 5:
                	saveFile();
                        isContinued = true;
                    break;
                case 6:
                	readFile();
                        isContinued = true;
                    break;
                default:
                    System.out.println("You must enter value in range 1 - 5"); 
                    isContinued = false;
            }
            if(isContinued) {
                System.out.print("\nDo you want to continue ?\nPress 'Spacebar' then 'Enter' to Continue.\nEnter any value to stop.\n");             
                String answer = sc.nextLine();
                if(answer.equals(" ")) {                   
            } else {
                break;
            }
            }
            
        }     
    }
	
static void addProduct(){
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match174-1.html#4" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

        products.add(new Product());
        if (products.size() == 1){
            products.get(products.size() - 1).id = products.size();
        } else {
            products.get(products.size() - 1).id = products.get(products.size() - 2).id + 1;
        }
    }
    
    static void displayProduct(List&lt;Product&gt; result){
</FONT><A NAME="0"></A><FONT color = #FF0000><A HREF="match174-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_7.gif" ALT="other" BORDER="0" ALIGN=left></A>

        System.out.printf("\n|%-5s|%-17s|%-10s|%-7s|\n", "Id", "Product name", "Price", "Quantity");
        
        for (int i = 0; i&lt;result.size(); ++i){
            System.out.printf(String.format("%44s\n", " ").replace(" ", "-"));
            System.out.printf("|%-5s|%-17s|%-10.2f|%-7d|\n", result.get(i).id, result.get(i).name, result.get(i).price, result.get(i).quantity);
        }
    }    
    
    static void deleteProduct() {
        displayProduct(products);
</FONT>        Scanner scan = new Scanner(System.in);
        System.out.print("Id of product you wanna delete: ");
        products.remove(scan.nextInt() - 1);
        displayProduct(products);
        System.out.print("DELETE SUCCESSFULLY!!!");
    }
    
    static void searchProduct() {
        Scanner scan = new Scanner(System.in);
<A NAME="2"></A><FONT color = #0000FF><A HREF="match174-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

        List&lt;Product&gt; result = new ArrayList&lt;Product&gt;();
        
        System.out.print("Input keyword to find: ");
        String keyWord = scan.nextLine();
        
        for (int i = 0; i&lt;products.size(); ++i){
            if (products.get(i).name.contains(keyWord)){
                result.add(products.get(i));
            }
        }
        
        if (result.size() != 0){
            displayProduct(result);
        } else {
            System.out.println("Can't find that product!!");
</FONT>        }
    }
    
    static boolean isFileDirectoryExists(File file) {
        if (file.exists()) {
            return true;
        }
        return false;
    }

    static boolean isDirectoryExists(String directoryPath) {
        return Paths.get(directoryPath).toFile().isDirectory();
    }
    
    static void saveFile(){
        Scanner scan = new Scanner(System.in);
        
<A NAME="5"></A><FONT color = #FF0000><A HREF="match174-1.html#5" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

        System.out.print("Folder to save: ");
        String folder = scan.nextLine();
        
        File file = new File(folder);
        
        while (!isFileDirectoryExists(file)){
            System.out.println("This directory is not Exists. Try again!");
            System.out.print("Folder to save: ");
            folder = scan.nextLine();
            file = new File(folder);
</FONT>        }
        
        System.out.print("Name file to save: ");
        String name = scan.nextLine();
        
        file = new File(folder + "\\" + name + ".txt");
        
        while (isFileDirectoryExists(file)){
            System.out.println("This file name has already exits. Try again!");
            System.out.print("Name file to save: ");
            name = scan.nextLine();
            file = new File(folder + "\\" + name + ".txt");
        }
        
        try {
            file.createNewFile();
            System.out.println("File has been created.");
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match174-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

            PrintWriter printWriter = new PrintWriter(file.getAbsoluteFile());
            
            // save to file
            for (int i = 0; i&lt;products.size(); ++i){
                printWriter.printf("%d\n", products.get(i).id);
                printWriter.printf("%s\n", products.get(i).name);
                printWriter.printf("%.2f\n", products.get(i).price);
                printWriter.printf("%d\n", products.get(i).quantity);
            }
            printWriter.close();
</FONT>        } catch (IOException ex) {
            System.out.println("An error occurred.");
        }
    }
    
    static void readFile(){
        Scanner scan = new Scanner(System.in);
        
        System.out.println("This action will delete all product you are working. Are you sure?\n");
        System.out.println("1- Yes");
        System.out.println("2- No");
        System.out.print("Your choice: ");
        int temp = scan.nextInt();
        if (temp == 2){
            return;
        }
        scan.nextLine();
        
        System.out.print("Folder to open: ");
        String folder = scan.nextLine();
        
        File file = new File(folder);
        
        while (!isFileDirectoryExists(file)){
            System.out.println("This directory is not Exists. Try again!");
            System.out.print("Folder to save: ");
            folder = scan.nextLine();
            file = new File(folder);
        }
        
        System.out.print("Name file to open: ");
        String name = scan.nextLine();
        
        file = new File(folder + "\\" + name + ".txt");
        
        while (!isFileDirectoryExists(file)){
            System.out.println("This file name has not been exits. Try again!");
            System.out.print("Name file to open: ");
            name = scan.nextLine();
            file = new File(folder + "\\" + name + ".txt");
        }
        
        try {
       
<A NAME="1"></A><FONT color = #00FF00><A HREF="match174-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

            Scanner scanFile = new Scanner(file);
            
            // empty list
            products.clear();
            // temp product
            Product temps;
            // open file
            while (scanFile.hasNextLine()) {
                temps = new Product(scanFile.nextInt());
                scanFile.nextLine();
                temps.name = scanFile.nextLine();
                temps.price = scanFile.nextFloat();
                scanFile.nextLine();
                temps.quantity = scanFile.nextInt();
                scanFile.nextLine();
                products.add(temps);
            }
            scanFile.close();
            //display
            displayProduct(products);
</FONT>        } catch (IOException ex) {
            System.out.println("An error occurred.");
        }
    }

    private static class Paths {

        private static Object get(String directoryPath) {
            throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
        }

        public Paths() {
        }
    }
}

class Product {
    int id;
    String name;
    float price;
    int quantity;
    
    Product(){
        Scanner scan = new Scanner(System.in);
        System.out.print("Name of product: ");
        this.name = scan.nextLine();
        System.out.print("Price of product: ");
        this.price = scan.nextFloat();
        System.out.print("Quantity: ");
        this.quantity = scan.nextInt();
    }
    Product(int id){
        this.id = id;
    }
}</PRE>
</PRE>
</BODY>
</HTML>
