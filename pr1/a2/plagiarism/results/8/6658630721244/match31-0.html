<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/HoaDucLam_106504_assignsubmission_file_Assignment2.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/HoaDucLam_106504_assignsubmission_file_Assignment2.java/<p><PRE>
&gt;&gt;&gt;&gt; file: HoaDucLam_106504_assignsubmission_file_Assignment2.java

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.InputMismatchException;
import java.util.Scanner;

/* Name: Hoa Dục Lâm
 * Class: 1TĐ19
 * ID student: 1901060022
 * Email: hoa.lam201@gmail.com
 */
/**
 *
 * @author DELL
 */
public class Assignment2 {

    final private int ID;
    final private String Name;
    final private double Price;
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match31-1.html#4" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_8.gif" ALT="other" BORDER="0" ALIGN=left></A>

    final private int Quan;

    Assignment2(BufferedReader in) throws IOException {
        System.out.print("Input product ID: ");
        this.ID = Integer.parseInt(in.readLine());
        System.out.print("Input product name: ");
        this.Name = in.readLine();
        System.out.print("Input product price: ");
        this.Price = Double.parseDouble(in.readLine());
        System.out.print("Input product quantity:");
        this.Quan = Integer.parseInt(in.readLine());
    }

    Assignment2(String a) {
        String[] string = a.split(", ");
        this.ID = Integer.parseInt(string[0]);
</FONT><A NAME="8"></A><FONT color = #00FFFF><A HREF="match31-1.html#8" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

        this.Name = string[1];
        this.Price = Double.parseDouble(string[2]);
        this.Quan = Integer.parseInt(string[3]);
</FONT>    }

    public int getid() {
        return ID;
    }

    public String getname() {
        return Name;
    }

    public double getprice() {
        return Price;
    }

    public int getquan() {
        return Quan;
    }

    public void view() {
        System.out.println(ID + "\t" + Name + "\t\t" + Price + "\t\t" + Quan);
    }

    public static int readfile(Assignment2[] prosArr, int total) {
        try {
            File f = new File("pros.txt");
            if (f.exists()) {
<A NAME="6"></A><FONT color = #00FF00><A HREF="match31-1.html#6" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

                Scanner filescan = new Scanner(f);
                int i = 0;
                while (filescan.hasNextLine()) {
                    prosArr[i++] = new Assignment2(filescan.nextLine());
                }
                total = i;
                System.out.println("Read successfully");
                System.out.println();
                filescan.close();
            } else {
                System.out.println("The file doesn't exist");
            }
        } catch (FileNotFoundException e) {
</FONT>            e.printStackTrace();
        }
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match31-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_9.gif" ALT="other" BORDER="0" ALIGN=left></A>

        return total;
    }

    private static void writefile(Assignment2[] prosArr, int total) {
        try {
            BufferedWriter writefile = new BufferedWriter(new FileWriter("pros.txt"));
            for (int i = 0; i &lt; total; ++i) {
                writefile.write(prosArr[i].getid() + ", " + prosArr[i].getname() + ", " + prosArr[i].getprice() + ", " + prosArr[i].getquan() + "\n");
            }
            writefile.close();
            System.out.println("Write successfully");
            System.out.println();
            writefile.close();
        } catch (IOException e) {
            System.out.println("Error");
            e.printStackTrace();
</FONT><A NAME="5"></A><FONT color = #FF0000><A HREF="match31-1.html#5" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

        }
    }

    private static int input(Assignment2[] pros, BufferedReader input, int total) throws IOException {
        int newadd;
        System.out.print("The total is: ");
        newadd = Integer.parseInt(input.readLine());
        for (int i = total; i &lt; total + newadd; ++i) {
            pros[i] = new Assignment2(input);
        }
        total += newadd;
        return total;
</FONT>    }

<A NAME="7"></A><FONT color = #0000FF><A HREF="match31-1.html#7" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    private static void search(Assignment2[] pros, BufferedReader input, int totalproduct) throws IOException {
        System.out.print("Input product name: ");
        boolean ck = false;
        String Name = input.readLine();
        for (int i = 0; i &lt; totalproduct; ++i) {
</FONT>            if (pros[i].getname().equals(Name)) {
                ck = true;
                pros[i].view();
                break;
            }
            if (!ck) {
                System.out.println("Can't find the product");
            }
<A NAME="2"></A><FONT color = #0000FF><A HREF="match31-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_10.gif" ALT="other" BORDER="0" ALIGN=left></A>

            System.out.println();
        }
    }

    private static int delete(Assignment2[] pros, BufferedReader input, int total) throws IOException {
        System.out.print("Input product ID: ");
        int ID;
        boolean find = false;
        ID = Integer.parseInt(input.readLine());
        for (int i = 0; i &lt; total; ++i) {
            if (pros[i].getid() == ID) {
                --total;
                find = true;
                if (total - i &gt;= 0) {
                    System.arraycopy(pros, i + 1, pros, i, total - i);
                }
                System.out.println("The product has been deleted");
                break;
            }
        }
        if (!find) {
            System.out.println("Can't find the product");
        }
        System.out.println();
        return total;
    }

    private static void showall(Assignment2[] pros, int total) {
</FONT>        for (int i = 0; i &lt; total; ++i) {
            pros[i].view();
        }
<A NAME="0"></A><FONT color = #FF0000><A HREF="match31-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_13.gif" ALT="other" BORDER="0" ALIGN=left></A>

        System.out.println();
    }

    private static void edit(Assignment2[] pros, BufferedReader input, int total) throws IOException {
        System.out.println("Input product ID: ");
        int ID = Integer.parseInt(input.readLine());
        for (int i = 0; i &lt; total; ++i) {
            if (pros[i].getid() == ID) {
                pros[i] = new Assignment2(input);
                System.out.println("The product is edited!");
                break;
            }
        }
    }

    @SuppressWarnings("empty-statement")
    public static void main(String[] args) throws IOException {
        Assignment2[] prosArr = new Assignment2[30];
        BufferedReader input = new BufferedReader(new InputStreamReader(System.in));

        //Declare variable
        int w = 0;
        int total = 0;

        do {
            System.out.println("[1] Add products");
            System.out.println("[2] Display products");
            System.out.println("[3] Delete a product");
</FONT>            System.out.println("[4] Edit the product");
            System.out.println("[5] Search for products by name");
<A NAME="1"></A><FONT color = #00FF00><A HREF="match31-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_12.gif" ALT="other" BORDER="0" ALIGN=left></A>

            System.out.println("[6] Save products to text file");
            System.out.println("[7] Load products from the saved file");
            System.out.println("[8] Exit the program");
            System.out.print("Choose an option: ");   //Display the menu

            try {  // use try ... catch to detect and handle the error
                w = Integer.parseInt(input.readLine());
                System.out.println();
                switch (w) {
                    case 1:
                        total = input(prosArr, input, total);
                        break;
                    case 2:
                        showall(prosArr, total);
                        break;
                    case 3:
                        total = delete(prosArr, input, total);
                        break;
                    case 4:
                        edit(prosArr, input, total);
                        break;
                    case 5:
                        search(prosArr, input, total);
                        break;
                    case 6:
                        writefile(prosArr, total);
                        break;
                    case 7:
                        total = readfile(prosArr, total);
                        break;
                    default:
                        System.out.println("Invalid input");
                        System.out.println("User must input again");
</FONT>                        break;
                    case 8:
                        System.out.println("Goodbye!");
                }
            } catch (InputMismatchException | NumberFormatException | IOException ex) {
                System.out.println("Invalid input");
                ex.printStackTrace();
            }
        } while (w != 8);
        input.close();
    }
}
</PRE>
</PRE>
</BODY>
</HTML>
