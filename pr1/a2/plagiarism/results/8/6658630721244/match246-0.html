<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/1801040084NguyenTrungHieu_106266_assignsubmission_file_NguyenTrungHieu_1C18_1801040084_A2.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/1801040084NguyenTrungHieu_106266_assignsubmission_file_NguyenTrungHieu_1C18_1801040084_A2.java/<p><PRE>
&gt;&gt;&gt;&gt; file: 1801040084NguyenTrungHieu_106266_assignsubmission_file_NguyenTrungHieu_1C18_1801040084_A2.java
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package assignment2;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectOutputStream;
<A NAME="2"></A><FONT color = #0000FF><A HREF="match246-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

import java.util.ArrayList;
import java.util.Scanner;

/**
 *
 * @author NguyenTrungHieu
 */
public class NguyenTrungHieu_1C18_1801040084_A2 {

    static ArrayList&lt;Integer&gt; prdID = new ArrayList&lt;Integer&gt;();
    static ArrayList&lt;String&gt; prdName = new ArrayList&lt;String&gt;();
    static ArrayList&lt;Double&gt; prdPrice = new ArrayList&lt;Double&gt;();
    static ArrayList&lt;Integer&gt; prdQuantity = new ArrayList&lt;Integer&gt;();
    static int m = 0;
</FONT>    static String opti = ""; // opti: option

    /**
     * @param args the command line arguments
     * @throws java.lang.Exception
     */
<A NAME="5"></A><FONT color = #FF0000><A HREF="match246-1.html#5" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

    public static void main(String[] args) throws Exception {   //the main method
        Scanner sc = new Scanner(System.in);
        int a = 0;
        while (a != 9) {
</FONT>            try {
                System.out.println("Please select your option: ");
                System.out.println("[1]. Add products");
                System.out.println("[2]. Display products");
                System.out.println("[3]. Delete a product");
                System.out.println("[4]. Edit a product");
                System.out.println("[5]. Search for products by name");
                System.out.println("[6]. Sort products by price");
                System.out.println("[7]. Save products to text/binary file");
                System.out.println("[8]. Load products from the saved file");
                System.out.println("[9]. Exit");
                a = sc.nextInt();  // Get an integer from the keyboard

                while (!(a &gt;= 1 && a &lt;= 9)) {
                    Exception e = new Exception("You must input number, Not character!");
                    throw e;
                }
            } catch (Exception e) {   // Handle the exception  
                while (a &lt; 1 || a &gt; 9) {
                    System.err.println(e.getMessage());
                    a = sc.nextInt();
                }
            }

            switch (a) {
                case 1:
                    addProduct();
                    break;
                case 2:
                    displayProduct();
                    break;
                case 3:
                    deleteProduct();
                    break;
                case 4:
                    editProduct();
                    break;
                case 5:
                    searchProduct();
                    break;
                case 6:
                    System.out.println("(!) This feature is not available this time."); // This feauture is optional.
                    break;
                case 7:
                    saveProduct();
                    break;
                case 8:
                    loadProduct();
                    break;
                case 9:
                    System.out.println("Thanks for using our service. See you later!");
                    break;
                default:
                    System.out.println("(!) Invalid input.");
                    break;
            }
            System.out.println("");
        }
    }

    private static void addProduct() {
<A NAME="0"></A><FONT color = #FF0000><A HREF="match246-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_8.gif" ALT="other" BORDER="0" ALIGN=left></A>

        Scanner en = new Scanner(System.in);
        System.out.println("Enter product: ");
        System.out.println("Product ID: " + m);
        prdID.add(m);
        System.out.print("Product name: ");
        prdName.add(en.nextLine());
        System.out.print("Product price: ");
        prdPrice.add(en.nextDouble());
        System.out.print("Product quantity: ");
        prdQuantity.add(en.nextInt());
        System.out.println();
    }

    private static void displayProduct() {
</FONT>        for (int b = 0; b &lt; prdName.size(); b++) {
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match246-1.html#4" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

            System.out.format("%02d | %-35s | %-10.1f | %5d | %n", prdID.get(b), prdName.get(b), prdPrice.get(b), prdQuantity.get(b));
        }
        System.out.println();
    }

    private static void deleteProduct() {
</FONT>        Scanner ent = new Scanner(System.in);
        System.out.print("Input the product ID: ");
        int searchID = ent.nextInt();
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match246-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_4.gif" ALT="other" BORDER="0" ALIGN=left></A>

        for (int i = 0; i &lt; prdID.size(); i++) {
            if (prdID.get(i) == searchID) {
                prdID.remove(i);
                prdName.remove(i);
                prdPrice.remove(i);
                prdQuantity.remove(i);
                System.out.println("The product has been deleted");
</FONT>            }
        }
    }

    private static void editProduct() {
        Scanner ent = new Scanner(System.in);
        int ID = 0;
        do {
            try {
                System.out.print("Enter product ID to edit: ");
                ID = ent.nextInt();
            } catch (Exception e) {
                System.err.println("(!) You should enter a number: ");
                ent = new Scanner(System.in);
                ID = ent.nextInt();
            }
            System.out.format("%-4s | %-20s | %20s | %8s |%n", "ID", "Product name", "Price($)", "Quantity");
            System.out.format("%-4d | %-20s | %20.2f | %8d |%n", ID, prdID.get(ID - 1), prdPrice.get(ID - 1), prdQuantity.get(ID - 1));
            System.out.print("Input new product name: ");
            prdID.set(ID - 1, ent.nextInt());
            System.out.print("Enter new product price: ");
            prdPrice.set(ID - 1, ent.nextDouble());
            System.out.print("Input new product quantity: ");
            prdQuantity.set(ID - 1, ent.nextInt());
            System.out.print("(!) Do you wanna edit another product? Yes/ No: ");
            opti = ent.nextLine();
        } while (opti.equalsIgnoreCase("yes"));
    }

    private static void searchProduct() {
        Scanner scan = new Scanner(System.in);
        System.out.println("Input the product's name:");
        String searchName = scan.next();
        System.out.format("%-3s|   %18s|  %10s|   %10s|%n", "ID", "Name", "Price", "Quantity");
        for (int i = 0; i &lt; prdName.size(); i++) {
            if (prdName.get(i).contains(searchName)) {
<A NAME="1"></A><FONT color = #00FF00><A HREF="match246-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_8.gif" ALT="other" BORDER="0" ALIGN=left></A>

                System.out.format("%-3d|   %18s|  %10.2f|   %10d|%n", prdID.get(i), prdName.get(i), prdPrice.get(i), prdQuantity.get(i));
            }
        }
    }

    private static void saveProduct() throws Exception {
        File fi = new File("products.txt");
        FileOutputStream fios = new FileOutputStream(fi);
        try (ObjectOutputStream os = new ObjectOutputStream(fios)) {
            os.writeObject(prdID);
            os.writeObject(prdName);
            os.writeObject(prdPrice);
            os.writeObject(prdQuantity);
        }
        System.out.println("Your info has been saved to the text file!");
        System.out.println();
    }

    private static void loadProduct() throws Exception {
        File fil = new File("products.txt");
        FileInputStream fist = new FileInputStream(fil);
</FONT>        Scanner s = new Scanner(fist);
        while (s.hasNext()) {
            System.out.println(s.nextLine());
        }
        System.out.println("The file has been read!");
    }
}
</PRE>
</PRE>
</BODY>
</HTML>
