<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/HoangNguyenThuyDuong_106313_assignsubmission_file_HoangNguyenThuyDuong_1TD19_1901060012.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/HoangNguyenThuyDuong_106313_assignsubmission_file_HoangNguyenThuyDuong_1TD19_1901060012.java/<p><PRE>
&gt;&gt;&gt;&gt; file: HoangNguyenThuyDuong_106313_assignsubmission_file_HoangNguyenThuyDuong_1TD19_1901060012.java
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
<A NAME="8"></A><FONT color = #00FFFF><A HREF="match123-1.html#8" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

package Assignment2;

import java.io.*;
import java.util.InputMismatchException;
import java.util.Scanner;

/**
 * Hoang Nguyen Thuy Duong
 * 1901060012
 * 1TD-19
 */
public class HoangNguyenThuyDuong_1TD19_1901060012 {

   private String id;
</FONT>   final private String name;
   final private double price;
   final private int quantity;
   
   HoangNguyenThuyDuong_1TD19_1901060012(String id, String name, double price, int quantity)
   { this.id = id;
     this.name = name;
     this.price = price;
     this.quantity = quantity;
   }
<A NAME="9"></A><FONT color = #FF00FF><A HREF="match123-1.html#9" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

   HoangNguyenThuyDuong_1TD19_1901060012 (String name, double price, int quantity)
   { this.name=name;
     this.price=price;
     this.quantity = quantity;
</FONT>     setId();
   }

    private void setId() {
       this.id = (int) (Math.random()*90+10) + this.name.substring(0,2).toUpperCase();
    }
    public void display()
    { System.out.printf("%-8s%-15s%-8.2f%d\n",id,name,price,quantity);
}
    public String getID()
    { return this.id;
}
    public String getName() 
    { return this.name;
    }
    public double getPrice()
    { return this.price;
}
    public int getQuantity()
    { return this.quantity;
    }
<A NAME="7"></A><FONT color = #0000FF><A HREF="match123-1.html#7" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    public static void main(String[] args) {
        HoangNguyenThuyDuong_1TD19_1901060012[] container = new HoangNguyenThuyDuong_1TD19_1901060012 [30];
        String outputPath = "pr1.txt";
        Scanner userInput = new Scanner(System.in);
        int total=0;
</FONT>        int menu=0;
        do {
            System.out.print("THUY DUONG\n1. Add products\n2. Display products\n3. Delete a product\n4. Edit a product\n5. Search for products by name\n6. Save products to text fle\n7. Load products from text file\n8. Quit\nType here: ");
            try {
<A NAME="6"></A><FONT color = #00FF00><A HREF="match123-1.html#6" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

                menu = Integer.parseInt(userInput.nextLine());
                switch (menu) 
                { case 1: 
                { System.out.print("Total products: ");
                total = Integer.parseInt(userInput.nextLine());
                for (int i=0; i&lt;total; i++)
</FONT>                { addProduct(container, userInput, i);
                }
                break;
                }
                case 2: 
                { for (int i=0; i&lt;total;i++)
                { container[i].display();
                }
                    System.out.println();
                    break;
                    }
                case 3:
                    total = delete(container, userInput, total);
                    break;
                case 4:
                    System.out.print("Please enter ID to modify values: ");
                    String id = userInput.nextLine();
                    int found = 0;
                    for (int i=0; i&lt;total; i++){
                        if (container[i].getID().equals(id)) {
                            found = 1;
                            addProduct(container, userInput, i);
                            System.out.println("Product modified");
                        }
                    }
                case 5: 
<A NAME="2"></A><FONT color = #0000FF><A HREF="match123-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

                    searchByName(container, userInput, total);
                    break;
                case 6:
                    writeTextFile(container, outputPath, total);
                    break;
                case 7: 
                    total = readTextFile(container, outputPath, total);
                    break;
                default:
                    System.out.println("Out of range\n");
              
            }
        }  catch (InputMismatchException | NumberFormatException | IOException ex) {
                System.out.println("Try again");
                ex.printStackTrace();
        }  
    } while (menu!=0);
    userInput.close();
</FONT>    }
    private static void addProduct(HoangNguyenThuyDuong_1TD19_1901060012[] container, Scanner in, int i) {
    try {
        System.out.print("Please enter name: ");
        String name = in.nextLine();
        System.out.print("Enter price: ");
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match123-1.html#4" TARGET="1"><IMG SRC="../../../bitmaps/tm_4_4.gif" ALT="other" BORDER="0" ALIGN=left></A>

        double price = Double.parseDouble(in.nextLine());
        System.out.print("Enter quantity: ");
        int quantity = Integer.parseInt(in.nextLine());
        container[i] = new HoangNguyenThuyDuong_1TD19_1901060012(name, price, quantity);
        System.out.println ("Generated ID: " + container[i].getID());
</FONT>    }
    catch (InputMismatchException | NumberFormatException ex) {
        System.out.println("Invalid in");
        ex.printStackTrace();
    }
}
<A NAME="0"></A><FONT color = #FF0000><A HREF="match123-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_8.gif" ALT="other" BORDER="0" ALIGN=left></A>

    private static void searchByName(HoangNguyenThuyDuong_1TD19_1901060012[] container, Scanner in, int totalProducts) {
        System.out.print("Please eneter a product name: ");
        if (in.hasNextLine()) {
            String name = in.nextLine();
            boolean found = false;
            for (int i = 0; i &lt; totalProducts; i++) {
                if (container[i].getName().equals(name)) {
                found = true;
                container[i].display();
            }
        }
            if (!found) {
            System.out.println("Not found.");
            }
        }
        else {
            System.out.println("Invalid Input! Please try again.");
</FONT>        }
    }
    private static int delete(HoangNguyenThuyDuong_1TD19_1901060012[] container, Scanner in, int total) {
        System.out.print("Please enter product ID to delete: ");
        if (in.hasNextLine()) {
            String id = in.nextLine();
<A NAME="1"></A><FONT color = #00FF00><A HREF="match123-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_6.gif" ALT="other" BORDER="0" ALIGN=left></A>

            boolean found = false;
            for (int i = 0; i&lt;total; i++) {
                if (container[i].getID().equals(id)) {
                    --total;
                    found = true;
                if (total - i &gt;= 0) {
                    System.arraycopy(container, i +1, container, i, total - i);
                }
                    System.out.println("Product was deleted");
                }
            }
            if (!found) {
                System.out.println("Not found."); 
</FONT>            }
        }
        else {
            System.out.println("Invalid Input! Please try again.");
        }
        return total;
    }
    private static int readTextFile(HoangNguyenThuyDuong_1TD19_1901060012[] container, String output, int total)
    {
        try {
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match123-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

            File file = new File(output);
            if (file.exists()) {
                Scanner fileScan = new Scanner(file);
                int i = total;
                while (fileScan.hasNextLine()) {
                    String[] info = fileScan.nextLine().split(";");
                    container [i++] = new HoangNguyenThuyDuong_1TD19_1901060012(info[0], info[1], Double.parseDouble(info[2]), Integer.parseInt(info[3]));
</FONT>                }
                total = i;
                System.out.println("Read successfully!");
                fileScan.close();
            }
        }
        catch (FileNotFoundException | NumberFormatException e) {
            System.out.println("File not found or Invalid Input. Please try again!");
            e.printStackTrace();
        }
        return total;
    }    
private static void writeTextFile(HoangNguyenThuyDuong_1TD19_1901060012[] container, String path, int total) throws IOException {
    File outFile = new File(path);
<A NAME="5"></A><FONT color = #FF0000><A HREF="match123-1.html#5" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_4.gif" ALT="other" BORDER="0" ALIGN=left></A>

    BufferedWriter writeFile = new BufferedWriter(new FileWriter(outFile));
    for (int i=0; i&lt;total;i++) {
        writeFile.write(container[i].getID() + ";" + container[i].getName() + ";" + container[i].getPrice() + ";" + container[i].getQuantity() + "\n");    
</FONT>    }
    System.out.println("Successful!");
}
}

    
</PRE>
</PRE>
</BODY>
</HTML>
