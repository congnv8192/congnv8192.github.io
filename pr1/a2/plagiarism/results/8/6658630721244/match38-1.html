<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/1801040013VuThiPhuongAnh_106565_assignsubmission_file_assignment2_1801040013_VuThiPhuongAnh.java/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/BaoAnhNguyenLe_106441_assignsubmission_file_assignment2.java/<p><PRE>
&gt;&gt;&gt;&gt; file: BaoAnhNguyenLe_106441_assignsubmission_file_assignment2.java
package nguyenlebaoanh_a02_7c18_1801040007_pr1_assignment2;

import java.io.*;

import java.util.*;

public class assignment2 {

    static ArrayList&lt;String&gt; qnameList = new ArrayList&lt;&gt;(); //create an array list to save product's name
<A NAME="1"></A><FONT color = #00FF00><A HREF="match38-0.html#1" TARGET="0"><IMG SRC="../../../bitmaps/tm_1_12.gif" ALT="other" BORDER="0" ALIGN=left></A>

    static ArrayList&lt;Double&gt; qpriceList = new ArrayList&lt;&gt;(); // create an array list to save products's price
    static ArrayList&lt;Integer&gt; qquantityList = new ArrayList&lt;&gt;(); // create an array list to save product's quantity


    public static void addProducts() {
        try {
            Scanner scAdd = new Scanner(System.in); 

            System.out.print("Enter number of products you want to add: ");
            int numProducts = scAdd.nextInt();
            scAdd.nextLine();

            for (int i = 0; i &lt; numProducts; i++) {
                int id = qnameList.size() + 1; // ID was create automatically
                
                System.out.println("ID of product:" + id);
                System.out.print("Enter product's name: ");
                String name = scAdd.nextLine();
                System.out.print("Enter product's price: ");
                double price = scAdd.nextDouble();
                scAdd.nextLine();
                System.out.print("Enter product's quantity: ");
                int quantity = scAdd.nextInt();
                scAdd.nextLine();

                qnameList.add(name); // save input to arraylist
                qpriceList.add(price);
                qquantityList.add(quantity);
</FONT>                
                System.out.println("Product is added successfully!");
            }
        } catch (Exception e) {
            System.err.println("Invalid input data!3");
        }
    }

<A NAME="5"></A><FONT color = #FF0000><A HREF="match38-0.html#5" TARGET="0"><IMG SRC="../../../bitmaps/tm_0_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

    public static void displayProducts() {
        boolean checkExist = qnameList.isEmpty();
        if (checkExist == true) {
            System.out.println("There is no Products to display!");
        } else { // create a table 
            System.out.println("________________________________________________________");
            System.out.format("%10s || %20s || %10s || %10s || %n", "ID", "Name", " Price", "Quantity"); // create a table
</FONT>
            for (int i = 0; i &lt; qnameList.size(); i++) {
<A NAME="0"></A><FONT color = #FF0000><A HREF="match38-0.html#0" TARGET="0"><IMG SRC="../../../bitmaps/tm_0_21.gif" ALT="other" BORDER="0" ALIGN=left></A>

                System.out.format("No.%7d || %20s || %10f || %10d || %n", i + 1, qnameList.get(i), qpriceList.get(i), qquantityList.get(i));// display data of products
            }
            System.out.println("________________________________________________________");
        }
    }

    public static void deleteProduct() {
        try {
            Scanner scDel = new Scanner(System.in);

            System.out.print("Enter the ID of product you want to delete: "); 
            int id = scDel.nextInt();

            qnameList.remove(id - 1); 
            qpriceList.remove(id - 1);// delete product in arraylist
            qquantityList.remove(id - 1);
            System.out.println( "Chosen product is Deleted!");

        } catch (Exception e) { 
            System.out.println("Invalid ID!");
        }
        displayProducts(); // display results remain after deleting
    }

    public static void editProduct() {
        try {
            Scanner scEdit = new Scanner(System.in);

            System.out.print("Enter the ID product you want to edit: ");
            int Id = scEdit.nextInt();
            scEdit.nextLine();

            System.out.print("Enter new name: ");
            String eName = scEdit.nextLine(); // get user input
            qnameList.set(Id - 1, eName); // change data in an array list 

            System.out.print("Enter new price: ");
            double ePrice = scEdit.nextDouble();
            qpriceList.set(Id - 1, ePrice);

            System.out.print("Enter new quantity: ");
            int eQuantity = scEdit.nextInt();
            qquantityList.set(Id - 1, eQuantity);

        } catch (Exception e) {
            System.err.println("Inavlid data!");
        }
        displayProducts(); // display result after edit
    }

    public static void searchProduct() {
        try {
            boolean checkExist = false; 
            Scanner scSearch = new Scanner(System.in);
            System.out.print("Enter the product name you want to search: ");
            String searchname = scSearch.nextLine();

            for (int i = 0; i &lt; qnameList.size(); i++) {
</FONT>                if (qnameList.get(i).contains(searchname)) {
                    System.out.println("____________________________________________________________");
<A NAME="6"></A><FONT color = #00FF00><A HREF="match38-0.html#6" TARGET="0"><IMG SRC="../../../bitmaps/tm_1_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

                    System.out.format("%10s || %20s || %10s || %10s || %n", "ID", "Name", " Price", "Quantity");
                    System.out.format("No.%7d || %20s || %10f || %10d || %n", i + 1, qnameList.get(i), qpriceList.get(i), qquantityList.get(i));
</FONT>                    System.out.println("_____________________________________________________________");
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match38-0.html#3" TARGET="0"><IMG SRC="../../../bitmaps/tm_3_9.gif" ALT="other" BORDER="0" ALIGN=left></A>

                    checkExist = true;
                }
            }
            if(checkExist == false) {
                System.err.println("No product has this name! ");
            }
        } catch (Exception e) {
            System.err.println("Invalid product's name!");
        }
    }

    public static void sortProducts() {
        int minPosi;
        String sName;
        double sPrice;
        int sQuantity;
        for (int i = 0; i &lt; qnameList.size(); i++) { 
            minPosi = i;
            for (int j = i + 1; j &lt; qnameList.size(); j++) { // find position of the minimum value in array list
                if (qpriceList.get(j) &lt; qpriceList.get(i)) { //compare value in array list
                    minPosi = j; // create new minimun value
                }
            }
            sName = qnameList.get(i); // product name from the position of minimum value of price 
            qnameList.set(i, qnameList.get(minPosi));
            qnameList.set(minPosi, sName);
</FONT>
            sPrice = qpriceList.get(i);
            qpriceList.set(i, qpriceList.get(minPosi));
            qpriceList.set(minPosi, sPrice);

<A NAME="2"></A><FONT color = #0000FF><A HREF="match38-0.html#2" TARGET="0"><IMG SRC="../../../bitmaps/tm_2_10.gif" ALT="other" BORDER="0" ALIGN=left></A>

            sQuantity = qquantityList.get(i);
            qquantityList.set(i, qquantityList.get(minPosi));
            qquantityList.set(minPosi, sQuantity);
        }
        displayProducts();// display product after sorting
    }

    public static void saveProducts() {
        try {
            File productFile = new File("products.txt");
            FileOutputStream fos = new FileOutputStream(productFile);
            ObjectOutputStream oos = new ObjectOutputStream(fos);

            oos.writeObject(qnameList);
            oos.writeObject(qpriceList);
            oos.writeObject(qquantityList);

            oos.close();

            System.out.println("Products have been saved!");
        } catch (IOException e) {
            System.out.println("Something's Wrong!");
        }
    }

    public static void loadProducts() throws FileNotFoundException, IOException {
        try {
            File productFile = new File("products.txt");

            FileInputStream fis = new FileInputStream(productFile);
            ObjectInputStream ois = new ObjectInputStream(fis);
</FONT>
            qnameList = (ArrayList&lt;String&gt;) ois.readObject();
<A NAME="4"></A><FONT color = #FF00FF><A HREF="match38-0.html#4" TARGET="0"><IMG SRC="../../../bitmaps/tm_4_3.gif" ALT="other" BORDER="0" ALIGN=left></A>

            qpriceList = (ArrayList&lt;Double&gt;) ois.readObject();
            qquantityList = (ArrayList&lt;Integer&gt;) ois.readObject();

            ois.close();

            System.out.println("Loading completed!");
        } catch (IOException | ClassNotFoundException e) {
            System.out.println("Something's Wrong!");
        }
    }

    public static void quitProgram() { // feature9
        System.out.println("________________Thank you,bye!________________");
</FONT>    }

    public static void menuDisplay() { //display a menu
        System.out.println("------------------------------------------------------");
        System.out.println("Welcome to Product's manipulation _Assignment2_");
        System.out.println("----------------------------------------------------");
        System.out.println("Please choose an option:");
        System.out.println("[1]:Add products"
                + "\n[2]:Display products"
                + "\n[3]:Delete a product"
                + "\n[4]:Edit a product"
                + "\n[5]:Search for a product by name"
                + "\n[6]:Sort products by price"
                + "\n[7]:Save products to text/binary file"
                + "\n[8]:Load products from the saved file"
                + "\n[9]:Quit");
       
        
        System.out.println("______________________END_________________________");
    }

    public static void runProgram(int option) throws IOException {
        switch (option) {
            case 1:
                addProducts();
                break;
            case 2:
                displayProducts();
                break;
            case 3:
                deleteProduct();
                break;
            case 4:
                editProduct();
                break;
            case 5:
                searchProduct();
                break;
            case 6:
                sortProducts();
                break;
            case 7:
                saveProducts();
                break;
            case 8:
                loadProducts();
                break;
            case 9:
                quitProgram();
                break;
            default:
                System.out.println("Invalid option!");
        }
    }

    public static void main(String[] args) throws Exception {
        int option = 0;
        boolean checkruncode = false;
        while (checkruncode == false) {
            try {
                while (option != 9) {
                    menuDisplay();
                    Scanner sc = new Scanner(System.in);
                    System.out.print("Enter option: ");
                    option = sc.nextInt();
                    runProgram(option);
                }
                checkruncode = true;
            } catch (IOException e) {
                System.out.println("Invalid option!");
            }            
        }
    }
}

        
        </PRE>
</PRE>
</BODY>
</HTML>
