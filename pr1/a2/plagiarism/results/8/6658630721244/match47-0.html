<HTML>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<HEAD>
<TITLE>D:/pr1/a2/pre-processed/1801040230NguyenQuangTrung_106300_assignsubmission_file_nguyenquangtrung_1801040230/nguyenquangtrung_1801040230/</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<HR>
D:/pr1/a2/pre-processed/1801040230NguyenQuangTrung_106300_assignsubmission_file_nguyenquangtrung_1801040230/nguyenquangtrung_1801040230/<p><PRE>
&gt;&gt;&gt;&gt; file: nguyenquangtrung_1801040230.java
package nguyenquangtrung_1801040230;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
<A NAME="2"></A><FONT color = #0000FF><A HREF="match47-1.html#2" TARGET="1"><IMG SRC="../../../bitmaps/tm_2_5.gif" ALT="other" BORDER="0" ALIGN=left></A>

import java.util.ArrayList;
import java.util.Scanner;

public class nguyenquangtrung_1801040230 {
	public static ArrayList&lt;String&gt; pName = new ArrayList&lt;&gt;();
	public static ArrayList&lt;Double&gt; pPrice = new ArrayList&lt;&gt;();
	public static ArrayList&lt;Integer&gt; pQuantity = new ArrayList&lt;&gt;();
	public static Scanner input = new Scanner(System.in);

	public static void main(String[] args) {
</FONT>		while (true) {

			try {

				System.out.println("=================MENU===============");
				System.out.println(" 1.Add products");
				System.out.println(" 2.Display the products");
				System.out.println(" 3 Delete the product ");
				System.out.println(" 4. Edit the product");
				System.out.println(" 5. Search product by name");
				System.out.println(" 6. Sort products by price ");
<A NAME="3"></A><FONT color = #00FFFF><A HREF="match47-1.html#3" TARGET="1"><IMG SRC="../../../bitmaps/tm_3_2.gif" ALT="other" BORDER="0" ALIGN=left></A>

				System.out.println(" 7. Save the File");
				System.out.println(" 8. Load the File");

				System.out.print("Choose a function: ");
				int n = input.nextInt();
				System.out.println();
</FONT>
				switch (n) {
				case 1:
					addProduct();
					break;
				case 2:
					displayProduct();
					break;
				case 3:
					deleteProduct();
					break;
				case 4:
					editProduct();
					break;
				case 5:
					searchProduct();
					break;
				case 6:
					sortProduct();
					break;
				case 7:
					saveData();
					break;
				case 8:
					loadData();
					break;

				default:
					System.out.println("Please enter a number from 1 to 8!");

				}

			} catch (Exception ex) {
				System.out.println("Exit!");
				input.nextLine();

			}
		}
	}

<A NAME="1"></A><FONT color = #00FF00><A HREF="match47-1.html#1" TARGET="1"><IMG SRC="../../../bitmaps/tm_1_16.gif" ALT="other" BORDER="0" ALIGN=left></A>

	private static void addProduct() {
		System.out.println("--------------Add products-------------");
		System.out.println("");
		System.out.println("Please enter the number of products you want to add: ");
		int n = input.nextInt();
		try {
			for (int i = 0; i &lt; n; i++) {
				input.nextLine();
				System.out.println("Enter the product's name: ");
				String productname = input.nextLine();
				pName.add(productname);
				System.out.println("Enter the product's price: ");
				double price = input.nextDouble();
				pPrice.add(price);
				System.out.println("Enter the product's quantity: ");
				int quantity = input.nextInt();
				pQuantity.add(quantity);
			}
		} catch (Exception e) {
			System.out.println("invalid!");

		}
	}


	private static void displayProduct() {
		System.out.println("---------------Display products--------------");
		System.out.println(" __________________________________");
		System.out.println("|_ID___Name_______Price___Quantity_|");
		for (int i = 0; i &lt; pPrice.size(); i++) {
		    System.out.printf("| %d | %7S | %8.2f |   %6d  | %n", i ,pName.get(i), pPrice.get(i),pQuantity.get(i));
		}
	}

	private static void deleteProduct() {
		System.out.println("---------------Delete a product--------------");
		System.out.println("Enter the product's ID you want to remove: ");
		int id = input.nextInt();
		pName.remove(id);
</FONT>		pPrice.remove(id);
		pQuantity.remove(id);
		displayProduct();
	}

	private static void editProduct() {
		System.out.println("---------------Edit products--------------");
		System.out.println("");
		System.out.printf("%S", "If you want to Stop, please write STOP ");
		System.out.println("");
		int test = 1;
		while (test == 1) {
			System.out.println("Enter the product ID you want to edit: ");
			int id = input.nextInt();
			input.nextLine();
			while (true) {
				System.out.println("The element you want to change ?");
				System.out.println("name");
				System.out.println("price");
				System.out.println("quantity");
				String line = input.nextLine();
				if (line.equalsIgnoreCase("name")) {
					System.out.println("Change name to: ");
					String name = input.nextLine();
					pName.set(id - 1, name);
				} else if (line.equalsIgnoreCase("price")) {
					System.out.println("Change price to: ");
					double price = Double.parseDouble(input.nextLine());
					pPrice.set(id - 1, price);

				} else if (line.equalsIgnoreCase("quantity")) {
					System.out.println("Change quantity to: ");
					int number = Integer.parseInt(input.nextLine());
					pQuantity.set(id - 1, number);
				} else if (line.equalsIgnoreCase("Stop")) {
					System.out.println("DONE!");
					test = 0;
					break;
				} else {
					System.out.println("Invalid input!");
				}

<A NAME="0"></A><FONT color = #FF0000><A HREF="match47-1.html#0" TARGET="1"><IMG SRC="../../../bitmaps/tm_0_32.gif" ALT="other" BORDER="0" ALIGN=left></A>

				displayProduct();
			}
		}

	}

	private static void searchProduct() {
		System.out.println("---------------Search products--------------");
		System.out.println("");
		while (true) {
			input.nextLine();
			System.out.println("If you want to stop, please write STOP");
			System.out.println("Enter product's name you want to find: ");
			String productname = input.nextLine();
			if (productname.equalsIgnoreCase("STOP")) {
				System.out.println("Thank you!");
				break;
			}
			System.out.println(" __________________________________");
			System.out.println("|_ID___Name_______Price___Quantity_|");
			for (int i = 0; i &lt; pName.size(); i++) {
				if (productname.equalsIgnoreCase(pName.get(i))) {
				    System.out.printf("| %d | %7S | %8.2f |   %6d  | %n", i ,pName.get(i), pPrice.get(i),pQuantity.get(i));
				}

			}
		}
	}

	private static void sortProduct() {
		System.out.println(": ");
		System.out.println();

		for (int i = 1; i &lt;= pPrice.size(); i++) {
			for (int j = i + 1; j &lt;= pPrice.size(); j++) {
				if (pPrice.get(i - 1) &gt; pPrice.get(j - 1)) {
					// name
					String tName = pName.get(i - 1);
					pName.set(i - 1, pName.get(j - 1));
					pName.set(j - 1, tName);
					// price
					double temp = pPrice.get(i - 1);
					pPrice.set(i - 1, pPrice.get(j - 1));
					pPrice.set(j - 1, temp);
					// quantity
					int tQuantity = pQuantity.get(i - 1);
					pQuantity.set(i - 1, pQuantity.get(j - 1));
					pQuantity.set(j - 1, tQuantity);
				}
			}
		}
		displayProduct();

	}

	public static File file = new File("product.txt");
	public static String outPut;
	private static void saveData() throws IOException {
		System.out.println("-------------Save products---------------");
	    String m = null;
	     for(int i = 0 ; i &lt; pName.size();i++){
	       m = String.format("| %d | %7S | %8.2f | %6d | %n", i ,pName.get(i), pPrice.get(i),pQuantity.get(i));   
	       }
	    FileOutputStream fos = new FileOutputStream(file);
	    ObjectOutputStream oos = new ObjectOutputStream(fos);
	    oos.writeObject(m);
	    oos.close();
	    System.out.println("Saved successfully! ");
	    System.out.println(file.getAbsolutePath());

	}

	private static void loadData() throws IOException, ClassNotFoundException {
		System.out.println("--------------Load products--------------");
</FONT>	     String m = null;
	    System.out.println(" __________________________________");
	    System.out.println("|_ID___Name_______Price___Quantity_|");
	     for(int i = 0 ; i &lt; pName.size();i++){
	       m = String.format("| %d | %7S | %8.2f | %6d | %n", i ,pName.get(i), pPrice.get(i),pQuantity.get(i));
	          System.out.println(m);
	       }
	     FileInputStream fis = new FileInputStream(file);
	     ObjectInputStream ois = new ObjectInputStream(fis);
	     m = (String) ois.readObject();
	     ois.close();    
	}

}
</PRE>
</PRE>
</BODY>
</HTML>
